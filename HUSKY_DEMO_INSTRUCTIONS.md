# –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó Husky Pre-commit Hook

## üìã –û–ø–∏—Å

–§–∞–π–ª `src/tests/husky-demo-bad-code.spec.ts` —Å—Ç–≤–æ—Ä–µ–Ω–æ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–æ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó —Ä–æ–±–æ—Ç–∏ Husky pre-commit hook —Å—Ç—É–¥–µ–Ω—Ç–∞–º.

## üéØ –ú–µ—Ç–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó

–ü–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º, —è–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∞—Ü—é—é—Ç—å —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ —è–∫–æ—Å—Ç—ñ –∫–æ–¥—É (Prettier —Ç–∞ ESLint) –ø–µ—Ä–µ–¥ –∫–æ–∂–Ω–∏–º –∫–æ–º—ñ—Ç–æ–º –∑–∞–≤–¥—è–∫–∏ Husky.

## üìù –ü–æ–º–∏–ª–∫–∏ –≤ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ–π–Ω–æ–º—É —Ñ–∞–π–ª—ñ

–§–∞–π–ª –º—ñ—Å—Ç–∏—Ç—å –Ω–∞–≤–º–∏—Å–Ω—ñ –ø–æ–º–∏–ª–∫–∏:

### –ü–æ–º–∏–ª–∫–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è (Prettier –≤–∏–ø—Ä–∞–≤–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ):

- ‚ùå –ü–æ–¥–≤—ñ–π–Ω—ñ –ª–∞–ø–∫–∏ –∑–∞–º—ñ—Å—Ç—å –æ–¥–∏–Ω–∞—Ä–Ω–∏—Ö
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –≤—ñ–¥—Å—Ç—É–ø–∏ —Ç–∞ –ø—Ä–æ–±—ñ–ª–∏
- ‚ùå –í—ñ–¥—Å—É—Ç–Ω—ñ –∫—Ä–∞–ø–∫–∏ –∑ –∫–æ–º–æ—é
- ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–µ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è –æ–±'—î–∫—Ç—ñ–≤ —Ç–∞ —Ñ—É–Ω–∫—Ü—ñ–π

### –ü–æ–º–∏–ª–∫–∏ ESLint (ESLint –≤–∏–ø—Ä–∞–≤–∏—Ç—å –∞–±–æ –ø–æ–∫–∞–∂–µ):

- ‚ùå –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è `var` –∑–∞–º—ñ—Å—Ç—å `const`/`let` (–ø—Ä–∞–≤–∏–ª–æ: `no-var`, `prefer-const`)
- ‚ùå –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –∑–º—ñ–Ω–Ω—ñ (–ø—Ä–∞–≤–∏–ª–æ: `@typescript-eslint/no-unused-vars`)
- ‚ùå –ù–µ–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è
- ‚ö†Ô∏è –í—ñ–¥—Å—É—Ç–Ω—ñ–π —Ç–∏–ø –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ—ó (–ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è)

## üé¨ –°—Ü–µ–Ω–∞—Ä—ñ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó

### –ö—Ä–æ–∫ 1: –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ—á–∞—Ç–∫–æ–≤–∏–π —Å—Ç–∞–Ω —Ñ–∞–π–ª—É

```bash
# –í—ñ–¥–∫—Ä–∏—Ç–∏ —Ñ–∞–π–ª –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä—ñ
code src/tests/husky-demo-bad-code.spec.ts
```

### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –≤—Ä—É—á–Ω—É

```bash
# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ ESLint –ø–æ–º–∏–ª–∫–∏
npm run lint

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ Prettier –ø–æ–º–∏–ª–∫–∏
npm run format:check
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ë—É–¥–µ –ø–æ–∫–∞–∑–∞–Ω–æ –±–∞–≥–∞—Ç–æ –ø–æ–º–∏–ª–æ–∫ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ ESLint.

### –ö—Ä–æ–∫ 3: –î–æ–¥–∞—Ç–∏ —Ñ–∞–π–ª –¥–æ staging —Ç–∞ —Å–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑—Ä–æ–±–∏—Ç–∏ –∫–æ–º—ñ—Ç

```bash
# –î–æ–¥–∞—Ç–∏ —Ñ–∞–π–ª –¥–æ staging
git add src/tests/husky-demo-bad-code.spec.ts

# –°–ø—Ä–æ–±—É–≤–∞—Ç–∏ –∑—Ä–æ–±–∏—Ç–∏ –∫–æ–º—ñ—Ç
git commit -m "–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –ø–æ–º–∏–ª–æ–∫"
```

**–û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**

- Pre-commit hook –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è
- Prettier –≤–∏–ø—Ä–∞–≤–∏—Ç—å –ø–æ–º–∏–ª–∫–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è
- ESLint —Å–ø—Ä–æ–±—É—î –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ (—è–∫—â–æ –º–æ–∂–ª–∏–≤–æ)
- –Ø–∫—â–æ –∑–∞–ª–∏—à–∞—Ç—å—Å—è –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏, –∫–æ–º—ñ—Ç –±—É–¥–µ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ

### –ö—Ä–æ–∫ 4: –ü–æ–∫–∞–∑–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–í–∞—Ä—ñ–∞–Ω—Ç –ê - –Ø–∫—â–æ –≤—Å—ñ –ø–æ–º–∏–ª–∫–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ:**

- –§–∞–π–ª –±—É–¥–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–∏–π
- –ö–æ–º—ñ—Ç –ø—Ä–æ–π–¥–µ —É—Å–ø—ñ—à–Ω–æ
- –ü–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º, —â–æ —Ñ–∞–π–ª –∑–º—ñ–Ω–∏–≤—Å—è (git diff)

**–í–∞—Ä—ñ–∞–Ω—Ç –ë - –Ø–∫—â–æ –∑–∞–ª–∏—à–∏–ª–∏—Å—è –ø–æ–º–∏–ª–∫–∏:**

- –ö–æ–º—ñ—Ç –±—É–¥–µ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ
- ESLint –ø–æ–∫–∞–∂–µ —Å–ø–∏—Å–æ–∫ –ø–æ–º–∏–ª–æ–∫, —è–∫—ñ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –≤—Ä—É—á–Ω—É
- –ü–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º, —è–∫ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –ø–æ–º–∏–ª–∫–∏

## üîß –†—É—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫ (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)

–Ø–∫—â–æ –ø—ñ—Å–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∑–∞–ª–∏—à–∏–ª–∏—Å—è –ø–æ–º–∏–ª–∫–∏:

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–ø—Ä–∞–≤–∏—Ç–∏ –≤—Å—ñ –º–æ–∂–ª–∏–≤—ñ –ø–æ–º–∏–ª–∫–∏ ESLint
npm run lint:fix

# –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç—É–≤–∞—Ç–∏ –∫–æ–¥
npm run format

# –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏, —â–æ –≤—Å–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ
npm run lint
npm run format:check
```

## üìä –û—á—ñ–∫—É–≤–∞–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏

### –î–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

- ‚ùå 12+ –ø–æ–º–∏–ª–æ–∫ ESLint
- ‚ùå –ü–æ–º–∏–ª–∫–∏ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è Prettier
- ‚ùå –ö–æ–º—ñ—Ç –±—É–¥–µ –∑–∞–±–ª–æ–∫–æ–≤–∞–Ω–æ

### –ü—ñ—Å–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

- ‚úÖ –ë—ñ–ª—å—à—ñ—Å—Ç—å –ø–æ–º–∏–ª–æ–∫ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- ‚úÖ –§–∞–π–ª –≤—ñ–¥—Ñ–æ—Ä–º–∞—Ç–æ–≤–∞–Ω–æ
- ‚úÖ –ú–æ–∂–ª–∏–≤—ñ –∑–∞–ª–∏—à–∫–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏, —è–∫—ñ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å —Ä—É—á–Ω–æ–≥–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

## üí° –©–æ –ø–æ–∫–∞–∑–∞—Ç–∏ —Å—Ç—É–¥–µ–Ω—Ç–∞–º

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—É** - Husky –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –∫–æ–º—ñ—Ç—ñ
2. **lint-staged** - –ø–µ—Ä–µ–≤—ñ—Ä—è—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ –∑–º—ñ–Ω–µ–Ω—ñ —Ñ–∞–π–ª–∏ (—à–≤–∏–¥—à–µ)
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è** - –±–∞–≥–∞—Ç–æ –ø–æ–º–∏–ª–æ–∫ –≤–∏–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
4. **–ë–ª–æ–∫—É–≤–∞–Ω–Ω—è –∫–æ–º—ñ—Ç—É** - –∫–æ–¥ –∑ –∫—Ä–∏—Ç–∏—á–Ω–∏–º–∏ –ø–æ–º–∏–ª–∫–∞–º–∏ –Ω–µ –ø–æ—Ç—Ä–∞–ø–∏—Ç—å —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
5. **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ñ—Å—Ç—å** - –≤–µ—Å—å –∫–æ–¥ —É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

## üéì –ù–∞–≤—á–∞–ª—å–Ω—ñ –º–æ–º–µ–Ω—Ç–∏

- –ü–æ—è—Å–Ω–∏—Ç–∏, —â–æ —Ç–∞–∫–µ Git hooks
- –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –≤ `.husky/pre-commit`
- –ü–æ–∫–∞–∑–∞—Ç–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é –≤ `.lintstagedrc.json`
- –ü–æ—è—Å–Ω–∏—Ç–∏ —Ä—ñ–∑–Ω–∏—Ü—é –º—ñ–∂ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º —Ç–∞ —Ä—É—á–Ω–∏–º –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è–º
- –ü–æ–∫–∞–∑–∞—Ç–∏, —è–∫ –ø—Ä–∞—Ü—é—î —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è Prettier + ESLint + Husky

## üîÑ –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –Ω–∞—Å—Ç—É–ø–Ω–æ—ó –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó

–ü—ñ—Å–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó –º–æ–∂–Ω–∞ –ø–æ–≤–µ—Ä–Ω—É—Ç–∏ —Ñ–∞–π–ª –¥–æ —Å—Ç–∞–Ω—É –∑ –ø–æ–º–∏–ª–∫–∞–º–∏:

```bash
# –í—ñ–¥–∫–æ—Ç–∏—Ç–∏ –∑–º—ñ–Ω–∏ –≤ —Ñ–∞–π–ª—ñ
git checkout -- src/tests/husky-demo-bad-code.spec.ts
```

–ê–±–æ –ø—Ä–æ—Å—Ç–æ –≤—ñ–¥—Ä–µ–¥–∞–≥—É–≤–∞—Ç–∏ —Ñ–∞–π–ª –≤—Ä—É—á–Ω—É, –¥–æ–¥–∞–≤—à–∏ –ø–æ–º–∏–ª–∫–∏ –∑–Ω–æ–≤—É.

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞:** –¶–µ–π —Ñ–∞–π–ª –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π —Ç—ñ–ª—å–∫–∏ –¥–ª—è –Ω–∞–≤—á–∞–ª—å–Ω–∏—Ö —Ü—ñ–ª–µ–π —Ç–∞ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó.
